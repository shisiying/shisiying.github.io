<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="努力，奋斗！"><title>python-2，urlib、BeautifulSoup、sqlalchemy等第三方库的使用 | 其斤.匕禾页</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '9a5a3ed9eb997f28f7eaa023ee5905bc';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">python-2，urlib、BeautifulSoup、sqlalchemy等第三方库的使用</h1><a id="logo" href="/.">其斤.匕禾页</a><p class="description">站在巨人的肩膀上，做只勤奋的小蜜蜂！</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/2018/10/02/lnmp技术栈文章汇总/"><i class="fa fa-archive"> LNMP技术栈</i></a><a href="/2018/10/02/速读laravel源码/"><i class="fa fa-archive"> laravel框架学习</i></a><a href="https://zhimap.com/mmap/773f7025d57f4c24b3c680bd9972c7e8"><i class="fa fa-archive"> 秒杀系统学习</i></a><a href="/2018/11/01/nosql学习汇总/"><i class="fa fa-archive"> nosql</i></a><a href="/2018/09/22/408基础/"><i class="fa fa-archive"> 计算机基础</i></a><a href="/2018/09/17/resume/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">python-2，urlib、BeautifulSoup、sqlalchemy等第三方库的使用</h1><div class="post-meta">Sep 11, 2017<span> | </span><span class="category"><a href="/categories/python/">python</a></span></div><a class="ds-thread-count" href="/2017/09/11/python-series2/#SOHUCS"><span id="changyan_count_unit" style="font-size: 15px; color: #6E7173;">0</span><span> 条评论</span></a><script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js" async></script><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#python学习系列2"><span class="toc-number">1.</span> <span class="toc-text">python学习系列2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#开篇"><span class="toc-number">1.1.</span> <span class="toc-text">开篇</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用urlib"><span class="toc-number">1.2.</span> <span class="toc-text">使用urlib</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#自动生成orm实体"><span class="toc-number">1.2.1.</span> <span class="toc-text">自动生成orm实体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用phantomsjs-selenlum"><span class="toc-number">1.3.</span> <span class="toc-text">使用phantomsjs+selenlum</span></a></li></ol></li></ol></div></div><div class="post-content"><p>python-2，urlib、BeautifulSoup、sqlalchemy等第三方库的使用<br><a id="more"></a></p>
<h1 id="python学习系列2"><a href="#python学习系列2" class="headerlink" title="python学习系列2"></a>python学习系列2</h1><h2 id="开篇"><a href="#开篇" class="headerlink" title="开篇"></a><strong>开篇</strong></h2><p>其实学习语言多了，你会发现不管学什么语言，都逃不出如下套路：</p>
<ul>
<li><p>1.怎么定义变量，是否有数据类型，怎么在控制台输出</p>
</li>
<li><p>2.如何定义函数，如何定义类，面向对象的写法是如何的？</p>
</li>
<li><p>3.如何调用外部类</p>
</li>
<li><p>4.如何读写文件，网络编程</p>
</li>
<li><p>5.如何与数据库交互</p>
</li>
<li><p>6.如何和各种第三方库交互</p>
</li>
<li><p>7.有什么比较好的框架可以使用</p>
</li>
</ul>
<p>上述语言仅限web后端语言，快速上手的套路无非就是有语言基础，编程经验弄懂上面这些套路，后续入门之后，我们可以再深入学习语言的特性，设计模式，以及性能调优这些。<br>讲完上述套路之后，我们根据以上的套路开始我们的python快速上手之旅，当然，最主要的是我们要结合手册弄懂上述这些知识点，然后动手做项目，看懂别人的源码，差不多就入门了。而且后端重点不在于语言本身，而在业务以及数据库上面。</p>
<p>python现在比较火的方向</p>
<ul>
<li>python web</li>
<li>python 数据分析与数据挖掘</li>
<li>机器学习</li>
</ul>
<h2 id="使用urlib"><a href="#使用urlib" class="headerlink" title="使用urlib"></a>使用urlib</h2><p>urllib提供了一系列用于操作URL的功能。</p>
<ul>
<li>get<br>urllib的request模块可以非常方便地抓取URL内容，也就是发送一个GET请求到指定的页面，然后返回HTTP的响应：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from urllib import request</span><br><span class="line"></span><br><span class="line">with request.urlopen(<span class="string">'http://xhzyxed.cn/'</span>) as f:</span><br><span class="line">    data = f.read()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Status:'</span>, f.status, f.reason)</span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> f.getheaders():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'%s: %s'</span> % (k, v))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Data:'</span>, data.decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure>
<p>返回的数据<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        Status: 200 OK</span><br><span class="line">        Server: GitHub.com</span><br><span class="line">        Content-Type: text/html; charset=utf-8</span><br><span class="line">        Last-Modified: Fri, 15 Sep 2017 07:46:08 GMT</span><br><span class="line">        Access-Control-Allow-Origin: *</span><br><span class="line">        Expires: Mon, 18 Sep 2017 12:32:11 GMT</span><br><span class="line">        Cache-Control: max-age=600</span><br><span class="line">        X-GitHub-Request-Id: FB08:1BE59:9D17C9:A847F6:59BFBA73</span><br><span class="line">        Content-Length: 54654</span><br><span class="line">        Accept-Ranges: bytes</span><br><span class="line">        Date: Mon, 18 Sep 2017 12:22:33 GMT</span><br><span class="line">        Via: 1.1 varnish</span><br><span class="line">        Age: 22</span><br><span class="line">        Connection: close</span><br><span class="line">        X-Served-By: cache-nrt6127-NRT</span><br><span class="line">        X-Cache: HIT</span><br><span class="line">        X-Cache-Hits: 1</span><br><span class="line">        X-Timer: S1505737353.341276,VS0,VE0</span><br><span class="line">        Vary: Accept-Encoding</span><br><span class="line">        X-Fastly-Request-ID: 299a3b861b72e86f3de4532787edfd2bbde20512</span><br><span class="line">``` </span><br><span class="line">可以在访问的时候，模拟浏览器发送get请求</span><br><span class="line">使用Request对象，通过往Request对象添加HTTP头，我们就可以把请求伪装成浏览器。例如，模拟iPhone 6去请求本站主页</span><br><span class="line">``` bash</span><br><span class="line"></span><br><span class="line">    from urllib import request</span><br><span class="line">    req = request.Request(<span class="string">'http://xhzyxed.cn'</span>)</span><br><span class="line">    req.add_header(<span class="string">'User-Agent'</span>, <span class="string">'Mozilla/6.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/8.0 Mobile/10A5376e Safari/8536.25'</span>)</span><br><span class="line">    with request.urlopen(req) as f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Status:'</span>, f.status, f.reason)</span><br><span class="line">        <span class="keyword">for</span> k, v <span class="keyword">in</span> f.getheaders():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'%s: %s'</span> % (k, v))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Data:'</span>, f.read().decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>post<br>如果要以POST发送一个请求，只需要把参数data以bytes形式传入。</li>
</ul>
<p>我们模拟一个微博登录，先读取登录的邮箱和口令，然后按照weibo.cn的登录页的格式以username=xxx&amp;password=xxx的编码传入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">    from urllib import request, parse</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Login to weibo.cn...'</span>)</span><br><span class="line">    email = input(<span class="string">'Email: '</span>)</span><br><span class="line">    passwd = input(<span class="string">'Password: '</span>)</span><br><span class="line">    login_data = parse.urlencode([</span><br><span class="line">        (<span class="string">'username'</span>, email),</span><br><span class="line">        (<span class="string">'password'</span>, passwd),</span><br><span class="line">        (<span class="string">'entry'</span>, <span class="string">'mweibo'</span>),</span><br><span class="line">        (<span class="string">'client_id'</span>, <span class="string">''</span>),</span><br><span class="line">        (<span class="string">'savestate'</span>, <span class="string">'1'</span>),</span><br><span class="line">        (<span class="string">'ec'</span>, <span class="string">''</span>),</span><br><span class="line">        (<span class="string">'pagerefer'</span>, <span class="string">'https://passport.weibo.cn/signin/welcome?entry=mweibo&amp;r=http%3A%2F%2Fm.weibo.cn%2F'</span>)</span><br><span class="line">    ])</span><br><span class="line">    req = request.Request(<span class="string">'https://passport.weibo.cn/sso/login'</span>)</span><br><span class="line">    req.add_header(<span class="string">'Origin'</span>, <span class="string">'https://passport.weibo.cn'</span>)</span><br><span class="line">    req.add_header(<span class="string">'User-Agent'</span>, <span class="string">'Mozilla/6.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/8.0 Mobile/10A5376e Safari/8536.25'</span>)</span><br><span class="line">    req.add_header(<span class="string">'Referer'</span>, <span class="string">'https://passport.weibo.cn/signin/login?entry=mweibo&amp;res=wel&amp;wm=3349&amp;r=http%3A%2F%2Fm.weibo.cn%2F'</span>)</span><br><span class="line">    </span><br><span class="line">    with request.urlopen(req, data=login_data.encode(<span class="string">'utf-8'</span>)) as f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Status:'</span>, f.status, f.reason)</span><br><span class="line">        <span class="keyword">for</span> k, v <span class="keyword">in</span> f.getheaders():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'%s: %s'</span> % (k, v))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Data:'</span>, f.read().decode(<span class="string">'utf-8'</span>))</span><br><span class="line"> ```       </span><br><span class="line"><span class="comment">## 使用chardet包</span></span><br><span class="line"></span><br><span class="line">在处理字符串时，常常会遇到不知道字符串是何种编码，比如我们抓取网页的时候，需要将网页以合理的方式编码，如果不知道字符串的编码就不能将字符串转换成需要的编码。面对多种不同编码的输入方式，是否会有一种有效的编码方式？chardet是一个非常优秀的编码识别模块。</span><br><span class="line">可以在网上查找其用法。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 使用beautifulsoup</span></span><br><span class="line"></span><br><span class="line">通俗易懂的[网上官方文档](https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 使用sqlalchemy</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 安装</span></span><br><span class="line">``` bash</span><br><span class="line"></span><br><span class="line">    pip install sqlalchemy</span><br><span class="line">```    </span><br><span class="line"><span class="comment">### 连接数据库</span></span><br><span class="line">``` bash</span><br><span class="line"></span><br><span class="line">    create_engine(数据库://用户名:密码(没有密码则为空)@主机名:端口/数据库名<span class="string">',echo =True)</span></span><br><span class="line"><span class="string">   </span></span><br><span class="line"><span class="string">    from sqlalchemy import Column,String,Integer,create_engine</span></span><br><span class="line"><span class="string">    from sqlalchemy.ext.declarative import declarative_base</span></span><br><span class="line"><span class="string">    from sqlalchemy.orm import sessionmaker</span></span><br><span class="line"><span class="string">    # 创建对象的基类:</span></span><br><span class="line"><span class="string">    Base = declarative_base()</span></span><br><span class="line"><span class="string">    class Test(Base):</span></span><br><span class="line"><span class="string">        __tablename__='</span><span class="built_in">test</span><span class="string">'</span></span><br><span class="line"><span class="string">        id = Column(Integer, primary_key=True,autoincrement=True)</span></span><br><span class="line"><span class="string">        name=Column(String(length=50),nullable=False)</span></span><br><span class="line"><span class="string">    engine=create_engine('</span>mysql+pymysql://root:hi23456@localhost/pythonleran?charset=utf8<span class="string">')</span></span><br><span class="line"><span class="string"> ```    </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 增查改操作</span></span><br><span class="line"><span class="string">-增加记录</span></span><br><span class="line"><span class="string">``` bash</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      # 创建DBSession类型:</span></span><br><span class="line"><span class="string">        DBSession = sessionmaker(bind=engine)</span></span><br><span class="line"><span class="string">        session = DBSession()</span></span><br><span class="line"><span class="string">        new_test=Test(id='</span>6<span class="string">',name='</span>seven<span class="string">')</span></span><br><span class="line"><span class="string">        session.add(new_test)</span></span><br><span class="line"><span class="string">        session.commit()</span></span><br><span class="line"><span class="string">        session.close()</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>查询<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">DBSession = sessionmaker(<span class="built_in">bind</span>=engine)</span><br><span class="line">session = DBSession()</span><br><span class="line"><span class="built_in">test</span>=session.query(Test).filter(Test.id&gt;<span class="string">'1'</span>).order_by(Test.id).all()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">test</span>)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>自定义参数查询<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">DBSession = sessionmaker(<span class="built_in">bind</span>=engine)</span><br><span class="line">session = DBSession()</span><br><span class="line"><span class="built_in">test</span>=session.query(Test).filter(text(<span class="string">"news_id=:id and name=rename"</span>)).params(id=1,rename=<span class="string">"seven"</span>).all()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">test</span>)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>改<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">DBSession = sessionmaker(<span class="built_in">bind</span>=engine)</span><br><span class="line">session = DBSession()</span><br><span class="line"><span class="built_in">test</span>=session.query(Test).filter(Test.id&gt;<span class="string">'1'</span>).update(&#123;<span class="string">"name"</span>:<span class="string">"sevenhhh"</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">test</span>)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="自动生成orm实体"><a href="#自动生成orm实体" class="headerlink" title="自动生成orm实体"></a>自动生成orm实体</h3><p>像我们上面写的映射类Test使用了<br>pip安装sqlcodegen<br>cd到项目目中在终端执行:<br>sqlacodegen –tables [表名] –outfile [输出的映射文件路径] [数据库链接]<br>如:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sqlacodegen --tables myfund --outfile Fund.py mysql+pymysql://root:hi23456@localhost/pythonleran?charset=utf8</span><br></pre></td></tr></table></figure></p>
<h2 id="使用phantomsjs-selenlum"><a href="#使用phantomsjs-selenlum" class="headerlink" title="使用phantomsjs+selenlum"></a>使用phantomsjs+selenlum</h2><p>安装下载phantomsjs <a href="http://phantomjs.org/download.html" target="_blank" rel="noopener">下载</a><br>PhantomJS是一个基于webkit的JavaScript API。它使用QtWebKit作为它核心浏览器的功能，使用webkit来编译解释执行JavaScript代码。任何你可以在基于webkit浏览器做的事情，它都能做到。它不仅是个隐形的浏览器，提供了诸如CSS选择器、支持Web标准、DOM操作、JSON、HTML5、Canvas、SVG等，同时也提供了处理文件I/O的操作，从而使你可以向操作系统读写文件等。PhantomJS的用处可谓非常广泛，诸如网络监测、网页截屏、无需浏览器的 Web 测试、页面访问自动化等。</p>
<p>安装selenlum<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pip install selenum</span><br></pre></td></tr></table></figure></p>
<p>Selenium也是一个用于Web应用程序测试的工具。Selenium测试直接运行在浏览器中，就像真正的用户在操作一样。支持的浏览器包括IE、Mozilla Firefox、Mozilla Suite等。这个工具的主要功能包括：测试与浏览器的兼容性——测试你的应用程序看是否能够很好得工作在不同浏览器和操作系统之上。测试系统功能——创建衰退测试检验软件功能和用户需求。支持自动录制动作和自动生成。Net、Java、Perl等不同语言的测试脚本。Selenium 是ThoughtWorks专门为Web应用程序编写的一个验收测试工具。</p>
<p>简单使用:模拟使用百度搜索java<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.support.ui import  WebDriverWait</span><br><span class="line">from selenium.webdriver.support import expected_conditions</span><br><span class="line">driver=webdriver.PhantomJS()</span><br><span class="line">driver.get(<span class="string">"https://www.baidu.com/"</span>)</span><br><span class="line">searchText=driver.find_element_by_id(<span class="string">"kw"</span>)</span><br><span class="line">searchText.send_keys(<span class="string">'java'</span>)</span><br><span class="line">searchBtn=driver.find_element_by_id(<span class="string">'su'</span>)</span><br><span class="line">searchBtn.click()</span><br><span class="line">WebDriverWait(driver,20).until(expected_conditions.title_contains(<span class="string">"java"</span>))</span><br><span class="line"><span class="built_in">print</span>(driver.page_source)</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2017/09/12/mysql使用游标和计划任务定时更新商品总点击量-2/">mysql-2 使用游标和计划任务定时更新商品总点击量</a><a class="next" href="/2017/09/10/往mysql灌入一百万数据/">mysql-1 往mysql灌入一百万数据</a></div><div id="SOHUCS" sid="1505100140000"></div><script>(function(){var appid='cytTB77q5';var conf='';var width=window.innerWidth||document.documentElement.clientWidth;if(width<960){window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id='+appid+'&conf='+conf+'"><\/script>')}else{var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})})}})()
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/408/">408</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/memcached/">memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web安全/">web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端构建工具/">前端构建工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/推文/">推文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目/">项目</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/11/01/nosql学习汇总/">nosql学习汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/31/deployer的使用报告/">deployer的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/laravel学习之Response/">laravel学习之Response</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/laravel学习之Request/">laravel学习之Request</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/17/laravel学习之路由/">laravel学习之路由</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/14/laravel学习之中间件/">laravel学习之中间件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/11/laravel学习之Facades/">laravel学习之Facades</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/10/laravel学习之服务提供者/">laravel学习之服务提供者</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/laravel学习之服务容器/">laravel学习之服务容器</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/laravel请求到响应的整个过程/">laravel请求到响应的整个过程</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://org.xhzyxed.cn/" title="小猴子与小耳朵" target="_blank">小猴子与小耳朵</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">其斤.匕禾页.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>