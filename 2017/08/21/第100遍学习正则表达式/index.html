<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="努力，奋斗！"><title>第100遍学习正则表达式 | 其斤.匕禾页</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '9a5a3ed9eb997f28f7eaa023ee5905bc';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">第100遍学习正则表达式</h1><a id="logo" href="/.">其斤.匕禾页</a><p class="description">站在巨人的肩膀上，做只勤奋的小蜜蜂！</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/2018/10/02/lnmp技术栈文章汇总/"><i class="fa fa-archive"> LNMP技术栈</i></a><a href="/2018/10/02/速读laravel源码/"><i class="fa fa-archive"> laravel框架学习</i></a><a href="https://zhimap.com/mmap/773f7025d57f4c24b3c680bd9972c7e8"><i class="fa fa-archive"> 秒杀系统学习</i></a><a href="/2018/11/01/nosql学习汇总/"><i class="fa fa-archive"> nosql</i></a><a href="/2018/09/22/408基础/"><i class="fa fa-archive"> 计算机基础</i></a><a href="/2018/09/17/resume/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">第100遍学习正则表达式</h1><div class="post-meta">Aug 21, 2017<span> | </span><span class="category"><a href="/categories/php/">php</a></span></div><a class="ds-thread-count" href="/2017/08/21/第100遍学习正则表达式/#SOHUCS"><span id="changyan_count_unit" style="font-size: 15px; color: #6E7173;">0</span><span> 条评论</span></a><script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js" async></script><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式"><span class="toc-number">1.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用途"><span class="toc-number">1.1.</span> <span class="toc-text">用途</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开始学习"><span class="toc-number">1.2.</span> <span class="toc-text">开始学习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-元字符"><span class="toc-number">1.3.</span> <span class="toc-text">1.元字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-匹配规则"><span class="toc-number">1.4.</span> <span class="toc-text">2.匹配规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-后向引用"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 后向引用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-零断宽言"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 零断宽言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-贪婪与懒惰匹配"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. 贪婪与懒惰匹配</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><p>第100遍学习正则表达式<br><a id="more"></a></p>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a><strong>正则表达式</strong></h2><p>相信看到这个题目的时候，你已经对正则表达式已经学习了不下十遍了，题目可能有点夸张，但是正则确实也是很难学懂的一门工具语言，其实它也只是为了让机器读懂而已，每次学习完之后总是忘记了，很久没用看到之后总是一脸懵逼，然后重新查询手册，现在，把我重新学习正则表达式的过程记录一下，希望能够更好地运用这门工具语言。</p>
<h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a><strong>用途</strong></h3><p>1.之前写爬虫的时候也是经常用于网页文本的匹配，处理文本<br>2.过滤敏感字符<br>3.处理字符串</p>
<h3 id="开始学习"><a href="#开始学习" class="headerlink" title="开始学习"></a><strong>开始学习</strong></h3><p>网上突然发现有人写了《learn regex the easy way 》,看完之后感觉涨姿势了，现整理如下，如果你有兴趣阅读，<a href="https://github.com/zeeshanu/learn-regex/blob/master/README-cn.md" target="_blank" rel="noopener">请看这里</a>，同时配合<a href="https://regex101.com/r/dmRygT/1" target="_blank" rel="noopener">练习网站</a>食用，效果最佳。<br>相信各位老司机应该看了很多遍正则的文档了吧，基础部分就直接省略。</p>
<h3 id="1-元字符"><a href="#1-元字符" class="headerlink" title="1.元字符"></a><strong>1.元字符</strong></h3><p>正则表达式主要依赖元字符，元字符不代表他们本身的字面意思, 他们都有特殊的含义.<br>元字符我觉得大体可以分为三类<br> <strong><em>1. 表示特殊含义的字符</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">句号匹配任意单个字符除了换行符.</td>
</tr>
<tr>
<td style="text-align:center">[ ]</td>
<td style="text-align:center">字符种类. 匹配方括号内的任意字符.</td>
</tr>
<tr>
<td style="text-align:center">[^ ]</td>
<td style="text-align:center">否定的字符种类. 匹配除了方括号里的任意字符</td>
</tr>
<tr>
<td style="text-align:center">(xyz)</td>
<td style="text-align:center">字符集, 匹配与 xyz 完全相等的字符串.</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:center">转义字符,用于匹配一些保留的字符 [ ] ( ) { } . * + ? ^ $ \</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td style="text-align:center">匹配所有字母数字, 等同于 [a-zA-Z0-9_]</td>
</tr>
<tr>
<td style="text-align:center">\W</td>
<td style="text-align:center">匹配所有非字母数字, 即符号, 等同于: [^\w]</td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td style="text-align:center">匹配数字: [0-9]</td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td style="text-align:center">匹配非数字: [^\d]</td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:center">匹配所有空格字符, 等同于: [\t\n\f\r\p{Z}]</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:center">匹配所有非空格字符: [^\s]</td>
</tr>
<tr>
<td style="text-align:center">\f</td>
<td style="text-align:center">匹配一个换页符</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td style="text-align:center">匹配一个换行符</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td style="text-align:center">匹配一个回车符</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td style="text-align:center">匹配一个制表符</td>
</tr>
<tr>
<td style="text-align:center">\v</td>
<td style="text-align:center">匹配一个垂直制表符</td>
</tr>
</tbody>
</table>
<p><strong><em>2. 表示重复次数的字符</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">匹配&gt;=0个重复的在*号之前的字符.</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">标记?之前的字符为可选.0或1次</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:center">否定的字符种类. 匹配除了方括号里的任意字符</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td style="text-align:center">匹配num个中括号之前的字符 (n &lt;= num &lt;= m).</td>
</tr>
</tbody>
</table>
<p> <strong><em>3. 锚点</em></strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">用来检查匹配的字符串是否在所匹配字符串的开头.</td>
</tr>
<tr>
<td style="text-align:center">\$</td>
<td style="text-align:center">$ 号用来匹配字符是否是最后一个.</td>
</tr>
</tbody>
</table>
<h3 id="2-匹配规则"><a href="#2-匹配规则" class="headerlink" title="2.匹配规则"></a><strong>2.匹配规则</strong></h3><h4 id="1-后向引用"><a href="#1-后向引用" class="headerlink" title="1. 后向引用"></a><strong>1. 后向引用</strong></h4><p><strong><em>用于重复搜索前面某个分组匹配的文本。</em></strong></p>
<ul>
<li><p>比如:<br>\b(\w+)\b\s+\1\b,可以匹配重复的单词如，go go其中\b表示匹配单词的开始或者结束，也就是单词开始处和结束处之间的多于一个的字母或数字(\b(\w+)\b)，这个单词会被捕获到编号为1的分组中，然后是1个或几个空白符(\s+)，最后是分组1中捕获的内容（也就是前面匹配的那个单词）(\1)。</p>
</li>
<li><p>自己指定子表达式的组名:   (?&lt; Word &gt;\w+) ,使用自定义分组的时候，使用以下语法 \k &lt; Word&gt;上面例子可以改写为\b(?&lt; Word&gt;\w+)\b\s+\k&lt; Word&gt;\b</p>
</li>
</ul>
<h4 id="2-零断宽言"><a href="#2-零断宽言" class="headerlink" title="2. 零断宽言"></a><strong>2. 零断宽言</strong></h4><p>第一次听到这个专业术语的时候，一脸懵逼，都不太想看是什么东西了，主要是太晦涩难懂了，查阅其他资料之后，我们可以把它叫做前后关联约束(前后预查）</p>
<ul>
<li><p>前置约束<br>(?=exp)，匹配exp正则表达式前面的位置<br>(?!exp)，匹配后面跟的不是exp的位置<br>例如, 表达式 (T|t)he(?=\sfat) 匹配 The 和 the, 在括号中我们又定义了前置约束(存在) (?=\sfat) ,即 The 和 the 后面紧跟着 (空格)fat.</p>
<p> “(T|t)he(?=\sfat)” =&gt; The fat cat sat on the mat.<br>匹配出The</p>
</li>
<li><p>后置约束<br>(?&lt;=exp)，匹配exp后面的位置<br>(?&lt; !exp)，匹配前面不是exp的位置<br>例如, 表达式 (?&lt;=(T|t)he\s)(fat|mat) 匹配 fat 和 mat, 且其前跟着 The 或 the.</p>
<p> “(?&lt;=(T|t)he\s)(fat|mat)” =&gt; The fat cat sat on the mat.<br>匹配出The和the</p>
<h4 id="3-贪婪与懒惰匹配"><a href="#3-贪婪与懒惰匹配" class="headerlink" title="3. 贪婪与懒惰匹配"></a><strong>3. 贪婪与懒惰匹配</strong></h4></li>
</ul>
<p>上述的重复次数都为贪婪匹配，即通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符，有时为了性能需求，需要匹配尽可能少的字符，即非贪婪模式，很简单的做法就是前面给出的限定符（就是上面表示重复次数的元字符）都可以被转化为懒惰匹配模式，<strong><em>只要在它后面加上一个问号?</em></strong></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2017/08/22/php核心学习-设计模式的学习-责任链模式/">php核心学习-设计模式的学习-责任链模式</a><a class="next" href="/2017/08/16/php核心学习-设计模式的学习-委托模式/">php核心学习-设计模式的学习-委托者模式</a></div><div id="SOHUCS" sid="1503295924000"></div><script>(function(){var appid='cytTB77q5';var conf='';var width=window.innerWidth||document.documentElement.clientWidth;if(width<960){window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id='+appid+'&conf='+conf+'"><\/script>')}else{var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})})}})()
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/408/">408</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/http/">http</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/memcached/">memcached</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web安全/">web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端构建工具/">前端构建工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/推文/">推文</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目/">项目</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/11/01/nosql学习汇总/">nosql学习汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/31/deployer的使用报告/">deployer的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/laravel学习之Response/">laravel学习之Response</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/20/laravel学习之Request/">laravel学习之Request</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/17/laravel学习之路由/">laravel学习之路由</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/14/laravel学习之中间件/">laravel学习之中间件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/11/laravel学习之Facades/">laravel学习之Facades</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/10/laravel学习之服务提供者/">laravel学习之服务提供者</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/laravel学习之服务容器/">laravel学习之服务容器</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/laravel请求到响应的整个过程/">laravel请求到响应的整个过程</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://org.xhzyxed.cn/" title="小猴子与小耳朵" target="_blank">小猴子与小耳朵</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">其斤.匕禾页.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>